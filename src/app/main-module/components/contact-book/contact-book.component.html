<div class="container">
  <div class="left-panel">
    <app-contact-search (searchTermChanged)="onSearchTermChanged($event)"></app-contact-search>
    <p *ngIf="!shortContactsToDisplay.length">There are no contacts to display!</p>
    <div class="contacts-container">
      <app-contact-item 
        *ngFor="let contact of shortContactsToDisplay" 
        [firstName]="contact.firstName" 
        [lastName]="contact.lastName"
        (click)="selectContactById(contact.id)">
      </app-contact-item>
    </div>
  </div>
  
  <div class="right-panel">
    <ng-container *ngIf="selectedContact">
      <app-contact-detail 
        [contact]="selectedContact"
        [isEditing]="isEditing"
        (editSaved)="endEditing()">
      </app-contact-detail>
      <button (click)="closeSelectedContact()">Close</button>
      <button *ngIf="!isEditing" (click)="startEditing()">Edit</button>
      <button *ngIf="isEditing" (click)="cancelEditing()">Cancel</button>
    </ng-container>
    
    <p *ngIf="!selectedContact">Select a contact to see details.</p>
  </div>
</div>